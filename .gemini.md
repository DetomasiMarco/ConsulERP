# üìå gestionale in Laravel 12 + Filament 4 + Livewire 4

**gestionale modulare in Laravel 12** basato su **Filament 4 + Livewire 4**, con stack:

* **Laravel 12** (PHP 8.2+)
* **SQLite**
* **Filament 4** (per CRUD, dashboard e form)
* **Livewire 4** (per interattivit√† realtime)
* **TailwindCSS** (stilizzazione, gi√† incluso in Filament)

---

## üéØ Obiettivo

Il gestionale deve permettere di:

1. Gestire **Clienti**
2. Gestire **Pratiche** (collegate ai clienti)
3. Definire e gestire **Workflow Types** (modelli di flusso di lavoro)
4. Gestire le **fasi (Workflow Steps)** di ciascun workflow
5. Tracciare **Eventi di avanzamento** (Workflow Events)
6. Gestire **Utenti (Members)**, **Team**, **Ruoli e Permessi**
7. Inviare e mostrare **Notifiche**
8. Salvare e gestire **Allegati**
9. Tenere uno storico di **Log**

---

## üìÇ Modelli principali

* `Client`
* `Practice`
* `WorkflowType`
* `WorkflowStep`
* `WorkflowEvent`
* `Member`
* `Team`
* `Notification`
* `Attachment`
* `Log`

---

## üîó Relazioni tra modelli

* `Practice belongsTo Client`
* `Practice hasMany WorkflowStep`
* `WorkflowStep belongsTo WorkflowType`
* `WorkflowStep hasMany WorkflowEvent`
* `Member belongsToMany Team` (pivot `member_team`)
* `Practice belongsTo Member` (assegnatario)
* `Notification belongsTo Member`
* `Attachment belongsTo Practice`

---

## üß© Funzionalit√†

### Gestione Workflow

* Creazione **WorkflowType** con elenco di step
* Step con:

  * Ordine / Gruppo
  * Tipo esecuzione (`sequential`, `parallel`)
  * Azioni speciali (`jump`, `block`)
  * Stati: `pending`, `in_progress`, `completed`, `paused`
* Avanzamento pratiche basato su regole:

  * Sequenziale: sblocca lo step successivo
  * Parallelo: pi√π step eseguibili insieme
  * Jump: salto a step successivo
  * Block: blocco fino a condizione

### Gestione Pratiche

* Creazione pratica con selezione cliente e workflow type
* Assegnazione a utente o team
* Timeline degli step con stato aggiornabile
* Eventi e log automatici

### Notifiche

* Ogni avanzamento genera:

  * `WorkflowEvent`
  * `Notification` (in-app + email opzionale)
* Dashboard Filament con widget notifiche recenti

### Allegati

* Upload multiplo su pratica
* Preview e download

### Ruoli & Permessi

* Admin: gestione utenti, team, workflow types
* Operatore: gestione pratiche assegnate
* Viewer: sola lettura
* Usa `spatie/laravel-permission` per la gestione dei ruoli

---

## üñ•Ô∏è Filament

Crea **Filament Resources** per:

* `ClientResource`
* `PracticeResource`
* `WorkflowTypeResource`
* `WorkflowStepResource`
* `WorkflowEventResource`
* `MemberResource`
* `TeamResource`
* `NotificationResource`
* `AttachmentResource`
* `LogResource`

Crea **Filament Pages/Widgets** per:

* Dashboard con:

  * Statistiche pratiche (aperte/chiuse/in corso)
  * Timeline workflow step in corso
  * Notifiche recenti
* Pagina custom ‚ÄúKanban Workflow‚Äù per visualizzare e aggiornare lo stato delle pratiche

---

## ‚öôÔ∏è Requisiti tecnici

* Usa **Filament form & table builder** per CRUD
* Usa **Livewire actions** per aggiornamenti real-time negli step
* Usa **Filament Notifications** per avvisi in-app
* Tutti i modelli devono avere **SoftDeletes** + **Audit trail** in `logs`
* Struttura modulare per futura espandibilit√†
